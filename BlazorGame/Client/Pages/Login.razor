@page "/login"

@if (isAuthenticcated)
{
  <h3>Welcome @user.UserName</h3>
}
else
{
  <h3>Login</h3>

  <EditForm Model="user" OnValidSubmit="HandleLogin">
    <DataAnnotationsValidator/>
    <div class="form-group mb-3 col-sm-3">
      <label for="username" class="form-label">Username</label>
      <InputText id="username" class="form-control" @bind-Value="user.UserName"></InputText>
    </div>
    <div class="form-group mb-3 col-sm-3">
      <label for="password" class="form-label">Password</label>
      <InputText id="password" type="password" class="form-control" @bind-Value="user.Password"></InputText>
    </div>
    <button type="submit" class="btn btn-primary">Login</button>
    <ValidationSummary/>
  </EditForm>
}

@code {
  bool isAuthenticcated = false;
  private readonly UserLogin user = new();

  private void HandleLogin()
  {
    Console.WriteLine($"{user.UserName} // {user.Password}");
    isAuthenticcated = true;
  }
}
